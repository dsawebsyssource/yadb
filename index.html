<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unsent Message</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap');

:root {
  --neon: #00ffd5;
  --neon-glow: rgba(0, 255, 213, 0.3);
  --dark: #0a0a0a;
  --dark-card: #1a1a1a;
  --gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  --text-primary: #ffffff;
  --text-secondary: #b0b0b0;
  --border-radius: 16px;
  --shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  --glow-shadow: 0 0 30px var(--neon-glow);
}

* { 
  box-sizing: border-box; 
  margin: 0;
  padding: 0;
}

body {
  margin: 0;
  background: var(--dark);
  background-image: 
    radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.1) 0%, transparent 50%);
  color: var(--text-primary);
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  overflow-x: hidden;
  line-height: 1.6;
}

.page {
  min-height: 100vh;
  display: none;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 40px 20px;
  text-align: center;
  position: relative;
}

.page.active {
  display: flex;
  animation: fadeSlideIn 1.2s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes fadeSlideIn {
  from {
    opacity: 0;
    transform: translateY(40px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

h1 {
  color: var(--neon);
  text-shadow: 0 0 30px var(--neon-glow);
  font-size: clamp(2rem, 5vw, 3.5rem);
  font-weight: 700;
  margin-bottom: 1.5rem;
  letter-spacing: -0.02em;
  background: linear-gradient(135deg, var(--neon), #64ffda);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

h2 {
  color: var(--neon);
  text-shadow: 0 0 20px var(--neon-glow);
  font-size: clamp(1.5rem, 4vw, 2.5rem);
  font-weight: 600;
  margin-bottom: 2rem;
  letter-spacing: -0.01em;
  line-height: 1.3;
}

p {
  font-size: clamp(1rem, 2.5vw, 1.25rem);
  color: var(--text-secondary);
  margin-bottom: 1rem;
  max-width: 600px;
  font-weight: 400;
}

strong {
  color: var(--text-primary);
  font-weight: 600;
}

button {
  margin: 8px;
  padding: 16px 32px;
  border: 2px solid var(--neon);
  background: rgba(0, 255, 213, 0.05);
  color: var(--neon);
  font-size: 16px;
  font-weight: 500;
  cursor: pointer;
  border-radius: var(--border-radius);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  backdrop-filter: blur(10px);
  position: relative;
  overflow: hidden;
  font-family: inherit;
  min-height: 48px;
  min-width: 120px;
  touch-action: manipulation;
}

button::after {
  content: 'üëÜ';
  position: absolute;
  top: -25px;
  right: -10px;
  font-size: 14px;
  animation: pointDown 2s infinite ease-in-out;
}

@keyframes pointDown {
  0%, 100% { transform: translateY(0); opacity: 0.7; }
  50% { transform: translateY(5px); opacity: 1; }
}

button::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
  transition: left 0.5s;
}

button:hover {
  background: var(--neon);
  color: var(--dark);
  box-shadow: var(--glow-shadow);
  transform: translateY(-2px);
}

button:hover::before {
  left: 100%;
}

button:active {
  transform: translateY(0);
}

.nav {
  margin-top: 40px;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 10px;
}

.progress {
  position: fixed;
  top: 0;
  left: 0;
  height: 4px;
  background: linear-gradient(90deg, var(--neon), #64ffda);
  width: 0%;
  z-index: 100;
  box-shadow: 0 0 10px var(--neon-glow);
  transition: width 0.5s ease;
}

/* IMAGE GALLERY */
.image-gallery {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 20px;
  max-width: 900px;
  margin: 30px 0;
  padding: 20px;
}

.image-row {
  display: flex;
  justify-content: center;
  gap: 20px;
  flex-wrap: wrap;
}

.image-gallery img {
  width: 180px;
  height: 180px;
  object-fit: cover;
  border-radius: var(--border-radius);
  box-shadow: var(--shadow);
  transition: all 0.3s ease;
  border: 2px solid rgba(255, 255, 255, 0.1);
}

.image-gallery img:hover {
  transform: scale(1.05) rotate(1deg);
  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
}

/* SINGLE IMAGES */
img {
  width: 200px;
  height: 200px;
  object-fit: cover;
  border-radius: var(--border-radius);
  margin: 12px;
  box-shadow: var(--shadow);
  transition: all 0.3s ease;
  border: 2px solid rgba(255, 255, 255, 0.1);
}

img:hover {
  transform: scale(1.05) rotate(1deg);
  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
}

/* AUTO TYPING */
.typebox {
  max-height: 60vh;
  overflow: auto;
  text-align: left;
  padding: 24px;
  border-left: 4px solid var(--neon);
  background: rgba(26, 26, 26, 0.8);
  border-radius: 0 var(--border-radius) var(--border-radius) 0;
  backdrop-filter: blur(10px);
  font-family: 'JetBrains Mono', monospace;
  font-size: 1.1rem;
  line-height: 1.8;
  color: var(--text-primary);
  box-shadow: var(--shadow);
  max-width: 600px;
  margin: 20px 0;
}

.typebox::-webkit-scrollbar {
  width: 6px;
}

.typebox::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.1);
  border-radius: 3px;
}

.typebox::-webkit-scrollbar-thumb {
  background: var(--neon);
  border-radius: 3px;
}

/* CARTOON */
.cartoon {
  display: flex;
  gap: 40px;
  margin: 30px 0;
  justify-content: center;
}

.char {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  animation: bounce 2s infinite ease-in-out;
  box-shadow: var(--shadow);
  border: 3px solid rgba(255, 255, 255, 0.2);
  position: relative;
  overflow: hidden;
}

.char img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 50%;
}

.char::after {
  content: 'üíï';
  position: absolute;
  top: -20px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 1.5rem;
  animation: float 3s infinite ease-in-out;
}

.me { 
  background: linear-gradient(135deg, #ff9a9e, #fecfef);
}

.him { 
  background: linear-gradient(135deg, #a8edea, #fed6e3);
}

@keyframes bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-20px); }
}

@keyframes float {
  0%, 100% { transform: translateX(-50%) translateY(0); }
  50% { transform: translateX(-50%) translateY(-10px); }
}

/* 21 REASONS */
.grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
  gap: 15px;
  max-width: 600px;
  perspective: 1000px; /* For 3D flip */
  padding: 20px;
}

.card {
  width: 100px;
  height: 100px;
  border: 1px solid var(--neon);
  cursor: pointer;
  position: relative;
  transform-style: preserve-3d;
  transition: transform 0.6s;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  font-size: 0.9em;
  padding: 5px;
  border-radius: 8px;
  background-color: #111;
  color: white;
  touch-action: manipulation;
}

.card::before {
  content: 'üíé';
  position: absolute;
  top: -25px;
  right: -8px;
  font-size: 14px;
  background: linear-gradient(135deg, var(--neon), #64ffda);
  border-radius: 50%;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid var(--neon);
  box-shadow: 0 0 15px var(--neon-glow);
  animation: gemPulse 2s infinite ease-in-out;
  z-index: 1;
}

.card.locked::before {
  content: 'üîê';
  background: linear-gradient(135deg, #666, #999);
  animation: lockShimmer 2s infinite ease-in-out;
}

@keyframes gemPulse {
  0%, 100% { transform: scale(1) rotate(0deg); opacity: 0.8; }
  50% { transform: scale(1.2) rotate(180deg); opacity: 1; }
}

@keyframes lockShimmer {
  0%, 100% { opacity: 0.6; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.1); }
}

.card.locked {
  opacity: .3;
}

.card.flipped {
  transform: rotateY(180deg);
}

.card .front, .card .back {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 8px;
}

.card .back {
  transform: rotateY(180deg);
  background-color: #222;
  overflow: hidden;
}

.card img {
  width: 90%;
  height: 90%;
  object-fit: cover;
  border-radius: 6px;
}

/* GIFT BOXES */
.gifts-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
  gap: 20px;
  max-width: 800px;
  padding: 20px;
  justify-items: center;
}

.gift-box {
  width: 120px;
  height: 120px;
  position: relative;
  cursor: pointer;
  transition: all 0.3s ease;
  touch-action: manipulation;
}

.gift-box::before {
  content: 'üéÅ';
  position: absolute;
  top: -15px;
  right: -5px;
  font-size: 12px;
  animation: giftPulse 2s infinite ease-in-out;
  z-index: 1;
}

.gift-box.opened::before {
  content: '‚ú®';
  animation: sparkle 1s infinite ease-in-out;
}

@keyframes giftPulse {
  0%, 100% { opacity: 0.7; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.2); }
}

.gift {
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, #ff6b6b, #ee5a24);
  border-radius: 12px;
  position: relative;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
  transition: all 0.3s ease;
}

.gift::before {
  content: '';
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 8px;
  height: 100%;
  background: #ffd700;
  border-radius: 4px;
}

.gift::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 0;
  transform: translateY(-50%);
  width: 100%;
  height: 8px;
  background: #ffd700;
  border-radius: 4px;
}

.gift-box:hover .gift {
  transform: scale(1.05);
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
}

.gift-wish {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 255, 213, 0.1);
  border: 2px solid var(--neon);
  border-radius: 12px;
  display: none;
  align-items: center;
  justify-content: center;
  text-align: center;
  font-size: 0.75rem;
  padding: 10px;
  color: var(--text-primary);
  backdrop-filter: blur(10px);
  animation: wishReveal 0.5s ease;
  line-height: 1.2;
}

.gift-box.opened .gift {
  display: none;
}

.gift-box.opened .gift-wish {
  display: flex;
}

@keyframes wishReveal {
  from { opacity: 0; transform: scale(0.8); }
  to { opacity: 1; transform: scale(1); }
}

/* CONFETTI */
canvas {
  position: fixed;
  top: 0;
  left: 0;
  pointer-events: none;
  z-index: 999;
}

/* TIME BOMB */
.bomb-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 30px;
}

.bomb {
  width: 120px;
  height: 120px;
  background: radial-gradient(circle, #333, #111);
  border-radius: 50%;
  position: relative;
  animation: bombShake 0.5s infinite alternate;
  box-shadow: 0 0 30px rgba(255, 0, 0, 0.5);
}

.bomb::before {
  content: '';
  position: absolute;
  top: -20px;
  left: 50%;
  transform: translateX(-50%);
  width: 4px;
  height: 30px;
  background: #8B4513;
  border-radius: 2px;
}

.bomb::after {
  content: 'üí•';
  position: absolute;
  top: -40px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 20px;
  animation: sparkle 0.3s infinite alternate;
}

.timer {
  font-size: 3rem;
  color: #ff0000;
  font-weight: bold;
  text-shadow: 0 0 20px #ff0000;
  animation: timerPulse 1s infinite;
}

.bomb-warning {
  color: #ff0000;
  font-size: 1.2rem;
  text-align: center;
  animation: warning 0.5s infinite alternate;
}

@keyframes bombShake {
  0% { transform: translateX(-2px) rotate(-1deg); }
  100% { transform: translateX(2px) rotate(1deg); }
}

@keyframes sparkle {
  0% { opacity: 0.7; transform: translateX(-50%) scale(1); }
  100% { opacity: 1; transform: translateX(-50%) scale(1.2); }
}

@keyframes timerPulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.1); color: #ff4444; }
  100% { transform: scale(1); }
}

@keyframes warning {
  0% { opacity: 0.7; }
  100% { opacity: 1; }
}

@keyframes explode {
  0% { transform: scale(1); opacity: 1; }
  50% { transform: scale(3); opacity: 0.8; }
  100% { transform: scale(10); opacity: 0; }
}

/* RESPONSIVE */
@media (max-width: 768px) {
  .page {
    padding: 15px 10px;
    min-height: 100vh;
  }
  
  h1 {
    font-size: clamp(1.8rem, 8vw, 2.5rem);
    margin-bottom: 1rem;
  }
  
  h2 {
    font-size: clamp(1.2rem, 6vw, 1.8rem);
    margin-bottom: 1.5rem;
    line-height: 1.4;
  }
  
  p {
    font-size: clamp(0.9rem, 4vw, 1.1rem);
    margin-bottom: 0.8rem;
  }
  
  button {
    padding: 14px 24px;
    font-size: 14px;
    margin: 6px;
    min-height: 44px;
    min-width: 100px;
  }
  
  .nav {
    margin-top: 25px;
    flex-direction: column;
    align-items: center;
    gap: 8px;
  }
  
  .gifts-grid {
    grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
    gap: 15px;
    padding: 15px;
  }
  
  .gift-box {
    width: 100px;
    height: 100px;
  }
  
  .gift-wish {
    font-size: 0.65rem;
    padding: 8px;
  }
  
  .grid {
    grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
    gap: 12px;
    max-width: 100%;
    padding: 15px;
  }
  
  .card {
    width: 80px;
    height: 80px;
    font-size: 0.8em;
  }
  
  .card::before {
    font-size: 10px;
    top: -15px;
    right: -3px;
  }
  
  .flip-card {
    width: 120px;
    height: 120px;
  }
  
  .flip-card-back {
    font-size: 0.75rem;
    padding: 10px;
  }
  
  .image-gallery img {
    width: 120px;
    height: 120px;
  }
  
  .image-row {
    gap: 10px;
  }
  
  img {
    width: 120px;
    height: 120px;
  }
  
  .cartoon {
    gap: 15px;
  }
  
  .char {
    width: 50px;
    height: 50px;
  }
  
  .typebox {
    padding: 15px;
    font-size: 0.95rem;
    max-height: 50vh;
  }
}

/* iPhone XR and similar */
@media (max-width: 414px) {
  .page {
    padding: 10px 8px;
  }
  
  .gifts-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 10px;
    padding: 10px;
  }
  
  .gift-box {
    width: 90px;
    height: 90px;
  }
  
  .gift-wish {
    font-size: 0.6rem;
    padding: 6px;
  }
  
  .grid {
    grid-template-columns: repeat(4, 1fr);
    gap: 8px;
    padding: 10px;
  }
  
  .card {
    width: 70px;
    height: 70px;
    font-size: 0.7em;
  }
  
  .flip-card {
    width: 100px;
    height: 100px;
  }
  
  .flip-card-back {
    font-size: 0.65rem;
    padding: 8px;
  }
  
  .image-gallery img {
    width: 100px;
    height: 100px;
  }
  
  img {
    width: 100px;
    height: 100px;
  }
  
  button {
    padding: 12px 20px;
    font-size: 13px;
  }
}

/* FLIP CARD STYLES */
.flip-card {
  background-color: transparent;
  width: 150px;
  height: 150px;
  perspective: 1000px;
  cursor: pointer;
}

.flip-card-inner {
  position: relative;
  width: 100%;
  height: 100%;
  text-align: center;
  transition: transform 0.6s;
  transform-style: preserve-3d;
}

.flip-card.flipped .flip-card-inner {
  transform: rotateY(180deg);
}

.flip-card-front, .flip-card-back {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  border-radius: 15px;
  border: 2px solid var(--neon);
  box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
}

.flip-card-front {
  background-color: #111;
}

.flip-card-front img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 13px;
}

.flip-card-back {
  background: linear-gradient(135deg, #1a1a2e, #16213e);
  color: var(--neon);
  transform: rotateY(180deg);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 15px;
  font-size: 0.9rem;
  line-height: 1.3;
  text-align: center;
}

.flip-card::before {
  content: '‚Üª';
  position: absolute;
  top: -30px;
  right: -10px;
  font-size: 20px;
  color: var(--neon);
  z-index: 10;
  background: rgba(0, 0, 0, 0.8);
  border-radius: 50%;
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid var(--neon);
  box-shadow: 0 0 10px var(--neon-glow);
  animation: flipHint 2s infinite ease-in-out;
}

@keyframes flipHint {
  0%, 100% { transform: rotate(0deg) scale(1); opacity: 0.8; }
  50% { transform: rotate(180deg) scale(1.1); opacity: 1; }
}

/* FINAL PAGE STYLING */
.final-message {
  max-width: 700px;
  margin: 0 auto;
  padding: 40px 20px;
  text-align: center;
  position: relative;
  z-index: 10;
}

.message-content {
  background: rgba(26, 26, 26, 0.9);
  border-radius: 20px;
  padding: 40px 30px;
  backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
}

.love-paragraph {
  font-size: clamp(1rem, 2.5vw, 1.1rem);
  line-height: 1.7;
  margin-bottom: 2rem;
  color: var(--text-secondary);
  font-weight: 400;
  text-align: left;
}

.final-wishes {
  margin-top: 3rem;
  padding-top: 2rem;
  border-top: 1px solid rgba(0, 255, 213, 0.3);
}

.again-title {
  font-size: clamp(2rem, 5vw, 3rem);
  color: var(--neon);
  margin-bottom: 1rem;
  font-weight: 700;
  text-shadow: 0 0 30px var(--neon-glow);
}

.birthday-title {
  font-size: clamp(1.5rem, 4vw, 2rem);
  color: var(--neon);
  margin-bottom: 1.5rem;
  font-weight: 600;
}

.years-together {
  font-size: clamp(1.1rem, 3vw, 1.3rem);
  color: var(--text-primary);
  margin-bottom: 2rem;
  line-height: 1.6;
}

.marriage-promise {
  font-size: clamp(1.5rem, 4vw, 2.2rem);
  color: var(--neon);
  font-weight: bold;
  text-shadow: 0 0 25px var(--neon-glow);
  animation: heartbeat 2s infinite;
  margin-top: 2rem;
}

@keyframes heartbeat {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

/* Mobile optimization for final page */
@media (max-width: 768px) {
  .final-message {
    padding: 20px 15px;
  }
  
  .message-content {
    padding: 25px 20px;
  }
  
  .love-paragraph {
    font-size: 0.95rem;
    margin-bottom: 1.5rem;
  }
  
  .final-wishes {
    margin-top: 2rem;
    padding-top: 1.5rem;
  }
  
  .flip-card {
    width: 120px;
    height: 120px;
  }
  
  .flip-card-back {
    font-size: 0.75rem;
    padding: 10px;
  }
}

@media (max-width: 480px) {
  .page {
    padding: 15px 10px;
  }
  
  .final-message {
    padding: 15px 10px;
  }
  
  .message-content {
    padding: 20px 15px;
    border-radius: 15px;
  }
  
  .love-paragraph {
    font-size: 0.9rem;
    line-height: 1.6;
    margin-bottom: 1.2rem;
  }
  
  .flip-card {
    width: 100px;
    height: 100px;
  }
  
  .flip-card-back {
    font-size: 0.7rem;
    padding: 8px;
  }
  
  .image-row {
    gap: 8px;
  }
  
  .bomb {
    width: 80px;
    height: 80px;
  }
  
  .timer {
    font-size: 2rem;
  }
  
  .typebox {
    font-size: 0.9rem;
    padding: 15px;
  }
}

/* FLOATING HEARTS */
.floating-hearts {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 5;
}

.heart {
  position: absolute;
  color: rgba(255, 182, 193, 0.6);
  font-size: 20px;
  animation: floatUp 8s infinite linear;
}

@keyframes floatUp {
  0% {
    transform: translateY(100vh) rotate(0deg);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    transform: translateY(-100px) rotate(360deg);
    opacity: 0;
  }
}

/* ENHANCED ANIMATIONS */
@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

.page h1 {
  animation: pulse 3s infinite ease-in-out;
}
</style>
</head>

<body>

<div class="progress" id="progress"></div>
<audio id="music" src="The Only Exception 4.mp3" preload="auto"></audio>
<audio id="typeSound" src="keyboard-typing-fast-371229.mp3" preload="auto"></audio>
<canvas id="confetti"></canvas>

<!-- PAGES -->
<div class="page active">
<h2>Hi Cla, this is best way that I think I can get your attention.</h2>
<p>I admired you quietly.</p>
<div class="nav">
<button onclick="next()">Continue</button>
</div>
</div>

<div class="page">
<h2>I held this feeling for almost a year now...</h2>
<h2>But you have the right to ignore this message, I totally understand if you do so...</h2>
<p>Would you still like to continue my story?</p>
<div class="nav">
<button id="noBtn">No</button>
<button onclick="next()">Yes</button>
<button onclick="prev()">Back</button>
</div>
</div>

<div class="page">
<h2>You stayed.</h2>
<p>That already means a lot. Please continue.</p>
<div class="nav">
<button onclick="next()">Continue</button>
<button onclick="prev()">Back</button>
</div>
</div>

<div class="page">
<h2>You have come this far, I guess it's time to properly introduce myself to you.</h2>
<div class="nav">
<button onclick="reveal()">Reveal the truth</button>
<button onclick="prev()">Back</button>
</div>
</div>

<!-- TIME BOMB PAGE -->
<div class="page" id="bombPage">
<h2>Get ready for the reveal...</h2>
<div class="bomb-container">
<div class="bomb" id="bomb"></div>
<div class="timer" id="timer">5</div>
<p class="bomb-warning">üí£ I hope you'll accept me! üí£</p>
</div>
</div>

<!-- REVEAL -->
<div class="page">
<h1>HAPPY 21ST BIRTHDAY MY LOVEEEE!!! ‚ù§Ô∏è</h1>
<p>There was no other guy, no secret admirer. charos charos rato oy!</p>
<p><strong>It was just me, klarisa. sana na prank kita hehehe. ayaw na pag overthink diha my baby!</strong></p>
<div class="nav">
<button onclick="next()">Continue</button>
</div>
</div>

<!-- LOVE LETTER -->
<div class="page">
<h2>I love you, and...</h2>
<div class="typebox" id="letter"></div>
<div class="nav">
<button onclick="next()">Next</button>
<button onclick="prev()">Back</button>
</div>
</div>

<!-- THROWBACK -->
<div class="page">
<h2>How we started</h2>
<div class="image-gallery">
<div class="image-row">
<div class="flip-card" onclick="flipCard(this)">
<div class="flip-card-inner">
<div class="flip-card-front">
<img src="IMG_US_1.jpg" alt="Our beginning">
</div>
<div class="flip-card-back">
First bonding outside school, with my friends‚Äîbecause I was still too shy to spend time alone with you.
</div>
</div>
</div>
<div class="flip-card" onclick="flipCard(this)">
<div class="flip-card-inner">
<div class="flip-card-front">
<img src="IMG_US_2.jpg" alt="Our journey">
</div>
<div class="flip-card-back">
We finally got to hang out alone together, and we took photos low-key.
</div>
</div>
</div>
<div class="flip-card" onclick="flipCard(this)">
<div class="flip-card-inner">
<div class="flip-card-front">
<img src="IMG_US_3.jpg" alt="Growing together">
</div>
<div class="flip-card-back">
You were too shy whenever I tried to take photos of you.
</div>
</div>
</div>
</div>
<div class="image-row">
<div class="flip-card" onclick="flipCard(this)">
<div class="flip-card-inner">
<div class="flip-card-front">
<img src="IMG_US_4.jpg" alt="Happy moments">
</div>
<div class="flip-card-back">
Our first bonding moment together that lasted for hours.
</div>
</div>
</div>
<div class="flip-card" onclick="flipCard(this)">
<div class="flip-card-inner">
<div class="flip-card-front">
<img src="IMG_US_5.jpg" alt="Our love story">
</div>
<div class="flip-card-back">
This was the moment we held hands for the first time.
</div>
</div>
</div>
</div>
</div>
<p>This was the beginning of us. I had no hope in love‚Ä¶ but that all changed when you came into my life.</p>
<div class="nav">
<button onclick="next()">Next</button>
<button onclick="prev()">Back</button>
</div>
</div>

<!-- APPRECIATION -->
<div class="page">
<h2>Why you are amazing</h2>
<div class="image-gallery">
<div class="image-row">
<div class="flip-card" onclick="flipCard(this)">
<div class="flip-card-inner">
<div class="flip-card-front">
<img src="HIM1.jpg" alt="Your amazing smile">
</div>
<div class="flip-card-back">
Your smile brightens every moment.
</div>
</div>
</div>
<div class="flip-card" onclick="flipCard(this)">
<div class="flip-card-inner">
<div class="flip-card-front">
<img src="HIM2.jpg" alt="Your kind heart">
</div>
<div class="flip-card-back">
Your kindness makes people feel truly seen.
</div>
</div>
</div>
<div class="flip-card" onclick="flipCard(this)">
<div class="flip-card-inner">
<div class="flip-card-front">
<img src="HIM3.jpg" alt="Your strength">
</div>
<div class="flip-card-back">
Your strength quietly inspires me.
</div>
</div>
</div>
</div>
<div class="image-row">
<div class="flip-card" onclick="flipCard(this)">
<div class="flip-card-inner">
<div class="flip-card-front">
<img src="HIM4.jpg" alt="Your warmth">
</div>
<div class="flip-card-back">
Your warmth feels like home.
</div>
</div>
</div>
<div class="flip-card" onclick="flipCard(this)">
<div class="flip-card-inner">
<div class="flip-card-front">
<img src="HIM5.jpg" alt="Everything about you">
</div>
<div class="flip-card-back">
Everything about you is more than enough.
</div>
</div>
</div>
</div>
</div>
<p>You are patient, kind, and strong. You are the only exception ‚Äî the reason I believe in love and dared to love again.</p>
<div class="cartoon">
<div class="char me"><img src="ME.jpg" alt="Me"></div>
<div class="char him"><img src="HIM.jpg" alt="Him"></div>
</div>
<div class="nav">
<button onclick="next()">Next</button>
<button onclick="prev()">Back</button>
</div>
</div>

<!-- 21 REASONS -->
<div class="page">
<h2>21 things I love about you</h2>
<div class="grid" id="reasons"></div>
<div class="nav">
<button onclick="next()">Next</button>
<button onclick="prev()">Back</button>
</div>
</div>

<!-- WISH -->
<div class="page">
<h2>My wish for you</h2>
<div class="gifts-grid" id="wishes"></div>
<div class="nav">
<button onclick="next()">Finish!</button>
<button onclick="prev()">Back</button>
</div>
</div>

<!-- END -->
<div class="page" id="finalPage">
<div class="floating-hearts" id="floatingHearts"></div>
<div class="final-message">
<div class="message-content">
<p class="love-paragraph">
Loving you has taught me what safety feels like. With you, I don't feel the need to compete, prove, or compare‚Äîbecause you already choose me, and I choose you just as surely. I love you in a way that is calm, certain, and unshakeable. No one could ever replace you in my heart, because the space you hold there was made only for you.
</p>
<p class="love-paragraph">
You are not in competition with anyone, my love. For me, you are already the winner‚Äîevery single day. You are my best decision, my answered prayer, and the most beautiful thing that has ever happened to me. Thank you for being you, for staying, for loving me the way you do.
</p>
<div class="final-wishes">
<h1 class="again-title">Again‚Ä¶</h1>
<h2 class="birthday-title">Happy Birthday, Doy, My Love. ‚ù§Ô∏è</h2>
<p class="years-together">To more years of growing, healing, laughing, and choosing each other‚Äîagain and again.</p>
<p class="marriage-promise">I can't wait to marry you. ‚ù§Ô∏è</p>
</div>
</div>
</div>
</div>

<script>
const pages = document.querySelectorAll('.page');
const progress = document.getElementById('progress');
const music = document.getElementById('music');
const typeSound = document.getElementById('typeSound');
let current = 0;
let typingInterval = null;
let audioEnabled = false;

// Enable audio on first user interaction
function enableAudio() {
  if (!audioEnabled) {
    music.load();
    typeSound.load();
    audioEnabled = true;
  }
}

// Add event listeners for first interaction
document.addEventListener('touchstart', enableAudio, { once: true });
document.addEventListener('click', enableAudio, { once: true });

function show(){
 pages.forEach(p=>p.classList.remove('active'));
 pages[current].classList.add('active');
 progress.style.width=(current/(pages.length-1))*100+"%";
 
 // Stop any ongoing typing when leaving the page
 if(typingInterval) {
   clearInterval(typingInterval);
   typingInterval = null;
   typeSound.pause();
   typeSound.currentTime = 0;
 }
 
 if(current === 6){ // Love letter page is at index 6
    typeLetter();
 }
 
 if(current === pages.length - 1){ // Final page
    startFloatingHearts();
 }
}

function next(){ current++; show(); }
function prev(){ current--; show(); }

function reveal(){
 startBombTimer();
}

function startBombTimer(){
 current++; // Go to bomb page
 show();
 
 // Pre-prepare music during countdown for instant mobile playback
 setTimeout(() => {
   music.currentTime = 0;
   music.load();
   // Create audio context for mobile
   music.play().then(() => {
     music.pause();
     music.currentTime = 0;
   }).catch(() => {});
 }, 1000);
 
 let timeLeft = 5;
 const timerElement = document.getElementById('timer');
 const bombElement = document.getElementById('bomb');
 
 const countdown = setInterval(() => {
   timeLeft--;
   timerElement.textContent = timeLeft;
   
   if(timeLeft <= 0){
     clearInterval(countdown);
     explodeBomb();
   }
 }, 1000);
}

function flipCard(card) {
  card.classList.toggle('flipped');
}

function explodeBomb(){
 const bombElement = document.getElementById('bomb');
 bombElement.style.animation = 'explode 0.8s ease-out';
 
 setTimeout(() => {
   current++; // Go to reveal page
   show();
   
   // Start music and confetti simultaneously
   if(music.paused){
     music.currentTime = 0;
     music.play().catch(e => console.log('Audio failed:', e));
   }
   navigator.vibrate?.([200,100,200]);
   confetti();
 }, 800);
}

function confetti(){
 const c=document.getElementById('confetti'),x=c.getContext('2d');
 c.width=innerWidth;c.height=innerHeight;
 let p=[...Array(200)].map(()=>({x:Math.random()*c.width,y:Math.random()*c.height,r:Math.random()*5+2,dx:Math.random()*4-2,dy:Math.random()*-4}));
 (function a(){
  x.clearRect(0,0,c.width,c.height);
  p.forEach(o=>{
   x.beginPath();
   x.arc(o.x,o.y,o.r,0,Math.PI*2);
   x.fillStyle=`hsl(${Math.random()*360},100%,50%)`;
   x.fill();
   o.x+=o.dx;o.y+=o.dy;o.dy+=0.1;
  });
  requestAnimationFrame(a);
 })();
}

function startFloatingHearts() {
  const heartsContainer = document.getElementById('floatingHearts');
  if (!heartsContainer) return;
  
  setInterval(() => {
    const heart = document.createElement('div');
    heart.className = 'heart';
    heart.innerHTML = 'üíï';
    heart.style.left = Math.random() * 100 + '%';
    heart.style.animationDuration = (Math.random() * 3 + 5) + 's';
    heart.style.fontSize = (Math.random() * 10 + 15) + 'px';
    heartsContainer.appendChild(heart);
    
    setTimeout(() => {
      heart.remove();
    }, 8000);
  }, 800);
}

function typeLetter(){
    const text=`I just want you to know how deeply grateful I am for you.
For your patience, your love, your presence.
You changed my life in ways you don't even realize.
And I choose you ‚Äî every single day.`;

    const box=document.getElementById('letter');
    if(!box) return;
    
    // Clear any existing typing
    if(typingInterval) {
        clearInterval(typingInterval);
        typingInterval = null;
    }
    
    let i=0;
    box.innerHTML="";
    typeSound.currentTime = 0;
    typeSound.loop = true;
    
    // Try to play typing sound with mobile support
    typeSound.play().catch(e => {
        console.log('Typing sound failed:', e);
    });
    
    typingInterval = setInterval(()=>{
        box.innerHTML += text[i];
        box.scrollTop = box.scrollHeight;
        i++;
        if(i >= text.length){
            clearInterval(typingInterval);
            typingInterval = null;
            typeSound.pause();
            typeSound.currentTime = 0;
        }
    },50);
}

// Playful "No" button
const noBtn = document.getElementById('noBtn');
noBtn.addEventListener('touchstart', dodgeNo);
noBtn.addEventListener('mouseover', dodgeNo);
function dodgeNo(e){
    e.preventDefault();
    const vw = window.innerWidth;
    const vh = window.innerHeight;
    const btnWidth = noBtn.offsetWidth;
    const btnHeight = noBtn.offsetHeight;
    const maxX = vw - btnWidth - 10;
    const maxY = vh - btnHeight - 10;
    const randomX = Math.floor(Math.random() * maxX);
    const randomY = Math.floor(Math.random() * maxY);
    noBtn.style.position = 'absolute';
    noBtn.style.left = randomX + 'px';
    noBtn.style.top = randomY + 'px';
}

// 21 REASONS FLIPPABLE CARDS
const reasons = [
  { text:"Your smile", img:"IMG_REASON_1.jpg" },
  { text:"Your patience", img:"IMG_REASON_2.jpg" },
  { text:"Your kindness", img:"IMG_REASON_3.jpg" },
  { text:"Your laugh", img:"IMG_REASON_4.jpg" },
  { text:"Your heart", img:"IMG_REASON_5.jpg" },
  { text:"Your strength", img:"IMG_REASON_6.jpg" },
  { text:"Your loyalty", img:"IMG_REASON_7.jpg" },
  { text:"Your humor", img:"IMG_REASON_8.jpg" },
  { text:"Your warmth", img:"IMG_REASON_9.jpg" },
  { text:"Your mind", img:"IMG_REASON_10.jpg" },
  { text:"Your honesty", img:"IMG_REASON_11.jpg" },
  { text:"Your hugs", img:"IMG_REASON_12.jpg" },
  { text:"Your care", img:"IMG_REASON_13.jpg" },
  { text:"Your effort", img:"IMG_REASON_14.jpg" },
  { text:"Your love", img:"IMG_REASON_15.jpg" },
  { text:"Your dreams", img:"IMG_REASON_16.jpg" },
  { text:"Your respect", img:"IMG_REASON_17.jpg" },
  { text:"Your presence", img:"IMG_REASON_18.jpg" },
  { text:"Your support", img:"IMG_REASON_19.jpg" },
  { text:"Your soul", img:"IMG_REASON_20.jpg" },
  { text:"You", img:"IMG_REASON_21.jpg" }
];

const grid = document.getElementById('reasons');

reasons.forEach((r, i)=>{
    const card = document.createElement('div');
    card.className = 'card locked';
    
    const front = document.createElement('div');
    front.className = 'front';
    front.innerText = `Reason ${i+1}`;
    
    const back = document.createElement('div');
    back.className = 'back';
    const img = document.createElement('img');
    img.src = r.img;
    back.appendChild(img);

    card.appendChild(front);
    card.appendChild(back);

    // Unlock card
    card.addEventListener('click', ()=>{
        if(card.classList.contains('locked')){
            card.classList.remove('locked');
            front.innerText = r.text;
        } else {
            card.classList.toggle('flipped');
        }
    });

    grid.appendChild(card);
});

// 21 BIRTHDAY WISHES GIFT BOXES
const wishes = [
  "May life be gentle to you.",
  "May you never forget how deeply loved you are.",
  "May you live the life you've always dreamed of.",
  "Please stay healthy, so we can continue to make memories together.",
  "May your days be filled with peace and happiness.",
  "May you always find strength during difficult times.",
  "May your heart remain kind, no matter what the world brings.",
  "May you never lose faith in yourself.",
  "May laughter always find its way back to you.",
  "May your efforts be rewarded and your hard work recognized.",
  "May you achieve everything you desire.",
  "May your dreams grow bigger than your fears.",
  "May you always choose what brings you peace.",
  "May every challenge teach you something valuable.",
  "May you forgive easily and love freely.",
  "May your nights be calm and your mornings hopeful.",
  "May you always feel safe, valued, and understood.",
  "May your heart never feel alone.",
  "May happiness find you in the simplest moments.",
  "May you always remember how special you are.",
  "And may I always be here, cheering for you, no matter what."
];

const wishesGrid = document.getElementById('wishes');

wishes.forEach((wish, i) => {
    const giftBox = document.createElement('div');
    giftBox.className = 'gift-box';
    
    const gift = document.createElement('div');
    gift.className = 'gift';
    
    const wishDiv = document.createElement('div');
    wishDiv.className = 'gift-wish';
    wishDiv.textContent = wish;
    
    giftBox.appendChild(gift);
    giftBox.appendChild(wishDiv);
    
    giftBox.addEventListener('click', () => {
        if (!giftBox.classList.contains('opened')) {
            giftBox.classList.add('opened');
        }
    });
    
    wishesGrid.appendChild(giftBox);
});
</script>

</body>
</html>
